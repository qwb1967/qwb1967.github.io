webpackJsonp([8],{VUD9:function(e,t){},hIGa:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("vQ9I"),s={data:function(){return{searchValue:"",select:"",pets:{},tableData:[],cellWidth:"",form:{salePrice:null,breed:null},dialogFormVisible:!1,dialogTitle:"",formLabelWidth:"150px",pageNum:1,pageSize:10,info:0,rules:{breed:[{required:!0,message:"请输入品种",trigger:"blur"}],salePrice:[{required:!0,message:"请输入销售价格",trigger:"blur"}]}}},mounted:function(){this.getPets()},filters:{petTypes:function(e){return 1===e?"猫":2===e?"狗":"其他"}},methods:{getPets:function(){var e=this;Object(i.a)({url:"/api/petUnit/list",method:"get",params:{pageNum:this.pageNum,pageSize:this.pageSize,str:this.searchValue},success:function(t){e.pets=t.data.data,e.tableData=t.data.data.list},fail:function(e){console.log(e)}},this)},savePetsInfo:function(){var e=this;this.$refs.form.validate(function(t){t&&(1===e.info?Object(i.a)({url:"/api/petUnit/edit",method:"post",data:e.form,success:function(t){200===t.data.code?(e.$message({message:"修改成功",center:!0,type:"success"}),e.form={},e.dialogFormVisible=!1,e.getPets()):e.$message({message:"修改失败",center:!0,type:"error"})},fail:function(e){console.log(e)}},e):Object(i.a)({url:"/api/petUnit/save",method:"post",data:e.form,success:function(t){200===t.data.code?(e.$message({message:"修改成功",type:"success"}),e.form={},e.dialogFormVisible=!1,e.getPets()):e.$message({message:"修改失败",center:!0,type:"error"})},fail:function(e){console.log(e)}},e))})},handleCurrentChange:function(e){this.pageNum=e,this.getPets()},handleSizeChange:function(e){this.pageSize=e,this.getPets()},petsEdit:function(e){var t=this;console.log(e),this.dialogTitle="编辑幼崽信息",this.info=1,setTimeout(function(){this.form={id:this.tableData[e].id,breed:this.tableData[e].breed,quantityIn:this.tableData[e].quantityIn,purchasingCost:this.tableData[e].purchasingCost,salePrice:this.tableData[e].salePrice,reachStoreDate:this.tableData[e].reachStoreDate,remark:this.tableData[e].remark,residueCount:this.tableData[e].residueCount}}.bind(this),0),this.$nextTick(function(){t.$refs.form.resetFields()}),this.dialogFormVisible=!0},petsAdd:function(){var e=this;this.form={breed:"",quantityIn:"",purchasingCost:"",salePrice:"",reachStoreDate:"",remark:"",residueCount:""},this.$nextTick(function(){e.$refs.form.resetFields()}),this.info=2,this.dialogTitle="新增幼崽信息",this.dialogFormVisible=!0},petsDelete:function(e){var t=this;this.$confirm("此操作将删除该幼崽信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){Object(i.a)({url:"/api/petUnit/del",method:"get",params:{id:e},success:function(e){t.$message({message:"已删除",center:!0,type:"success"}),t.getPets()},fail:function(e){console.log(e)}},t)}).catch(function(){t.$message({type:"info",center:!0,message:"已取消"})})}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page"},[a("div",{staticClass:"search"},[a("div",{staticClass:"frame"},[a("el-input",{staticClass:"input-with-select",attrs:{size:"medium",placeholder:"品种名称",clearable:""},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}})],1),e._v(" "),a("div",{staticClass:"frame-btn"},[a("el-button",{attrs:{size:"medium",type:"primary",icon:"el-icon-search",round:""},on:{click:e.getPets}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{size:"medium",type:"danger",round:"",icon:"el-icon-plus"},on:{click:e.petsAdd}},[e._v("新增")])],1)]),e._v(" "),a("div",{staticClass:"table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{label:"品种",align:"center",width:e.cellWidth},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.breed)+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"进价",align:"center",width:e.cellWidth},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.purchasingCost)+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"售价",align:"center",width:e.cellWidth},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.salePrice)+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"进货数量",align:"center",width:e.cellWidth},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.quantityIn)+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"剩余数量",align:"center",width:e.cellWidth},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.residueCount)+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"到店日期（天数）",align:"center",width:e.cellWidth},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.reachStoreDate)+"（"),a("span",{staticStyle:{color:"red"}},[e._v(e._s(t.row.days))]),e._v("）\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"备注",align:"center",width:e.cellWidth},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.remark)+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:e.cellWidth},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{icon:"el-icon-edit",size:"small",round:""},on:{click:function(a){return e.petsEdit(t.$index)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"small",round:""},on:{click:function(a){return e.petsDelete(t.row.id)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogFormVisible,width:"600px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"品种：","label-width":e.formLabelWidth,prop:"breed"}},[a("span",{staticClass:"right_input"},[a("el-input",{attrs:{size:"medium","auto-complete":"off"},model:{value:e.form.breed,callback:function(t){e.$set(e.form,"breed",t)},expression:"form.breed"}})],1)]),e._v(" "),a("el-form-item",{attrs:{label:"数量：","label-width":e.formLabelWidth}},[a("span",{staticClass:"right_input"},[a("el-input",{attrs:{size:"medium","auto-complete":"off"},model:{value:e.form.quantityIn,callback:function(t){e.$set(e.form,"quantityIn",t)},expression:"form.quantityIn"}})],1)]),e._v(" "),a("el-form-item",{attrs:{label:"剩余数量：","label-width":e.formLabelWidth}},[a("span",{staticClass:"right_input"},[a("el-input",{attrs:{size:"medium",type:"number","auto-complete":"off"},model:{value:e.form.residueCount,callback:function(t){e.$set(e.form,"residueCount",t)},expression:"form.residueCount"}})],1)]),e._v(" "),a("el-form-item",{attrs:{label:"进价：","label-width":e.formLabelWidth}},[a("span",{staticClass:"right_input"},[a("el-input",{attrs:{size:"medium",type:"number","auto-complete":"off"},model:{value:e.form.purchasingCost,callback:function(t){e.$set(e.form,"purchasingCost",t)},expression:"form.purchasingCost"}})],1)]),e._v(" "),a("el-form-item",{attrs:{label:"售价：","label-width":e.formLabelWidth,prop:"salePrice"}},[a("span",{staticClass:"right_input"},[a("el-input",{attrs:{size:"medium",type:"number","auto-complete":"off"},model:{value:e.form.salePrice,callback:function(t){e.$set(e.form,"salePrice",t)},expression:"form.salePrice"}})],1)]),e._v(" "),a("el-form-item",{attrs:{label:"到店日期：","label-width":e.formLabelWidth}},[a("span",{staticClass:"right_input"},[a("el-date-picker",{staticStyle:{width:"300px"},attrs:{size:"medium","value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.form.reachStoreDate,callback:function(t){e.$set(e.form,"reachStoreDate",t)},expression:"form.reachStoreDate"}})],1)]),e._v(" "),a("el-form-item",{attrs:{label:"备注：","label-width":e.formLabelWidth}},[a("span",{staticClass:"right_input"},[a("el-input",{attrs:{size:"medium","auto-complete":"off"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)])],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"medium",round:""},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"medium",type:"primary",round:""},on:{click:e.savePetsInfo}},[e._v("确 定")])],1)],1),e._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"page-size":10,background:"",layout:"total, prev, pager, next",total:e.pets.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var r=a("C7Lr")(s,l,!1,function(e){a("VUD9")},"data-v-9e0fea04",null);t.default=r.exports}});